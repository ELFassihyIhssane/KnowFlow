{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/GROW/Projects/KnowFlow_Project_d%27expertise/KnowFlow/frontend/lib/api-client.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport type { QueryResponse } from \"@/lib/types\";\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE_URL || \"http://localhost:7000\";\r\n\r\nexport async function runQuery(question: string): Promise<QueryResponse> {\r\n  const { data } = await axios.post<QueryResponse>(`${API_BASE}/api/query`, { question });\r\n  return data;\r\n}\r\n\r\n// Optionnel (si tu as /api/graph côté backend)\r\nexport async function fetchGraph(): Promise<{ nodes: any[]; edges: any[] }> {\r\n  const { data } = await axios.get(`${API_BASE}/api/graph`);\r\n  return data;\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAGA,MAAM,WAAW,QAAQ,GAAG,CAAC,wBAAwB,IAAI;AAElD,eAAe,SAAS,QAAgB;IAC7C,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,IAAI,CAAgB,GAAG,SAAS,UAAU,CAAC,EAAE;QAAE;IAAS;IACrF,OAAO;AACT;AAGO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,GAAG,CAAC,GAAG,SAAS,UAAU,CAAC;IACxD,OAAO;AACT"}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/GROW/Projects/KnowFlow_Project_d%27expertise/KnowFlow/frontend/components/graph/GraphView.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport CytoscapeComponent from \"react-cytoscapejs\";\r\n\r\nexport function GraphView({ graph }: { graph: { nodes: any[]; edges: any[] } | null }) {\r\n  if (!graph) {\r\n    return (\r\n      <div className=\"rounded-xl border border-zinc-800 bg-zinc-900/40 p-6 text-zinc-300\">\r\n        (no graph loaded)\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const elements = [\r\n    ...(graph.nodes || []).map((n: any) => ({\r\n      data: { id: n.id ?? n.node_id ?? String(n.label), label: n.label ?? n.id }\r\n    })),\r\n    ...(graph.edges || []).map((e: any, i: number) => ({\r\n      data: {\r\n        id: e.id ?? `e-${i}`,\r\n        source: e.source,\r\n        target: e.target,\r\n        label: e.relation ?? \"rel\"\r\n      }\r\n    }))\r\n  ];\r\n\r\n  return (\r\n    <div className=\"rounded-xl border border-zinc-800 bg-zinc-900/40 p-3\">\r\n      <div className=\"mb-2 text-sm text-zinc-400\">Cytoscape graph</div>\r\n      <div className=\"h-[600px] overflow-hidden rounded-lg border border-zinc-800 bg-zinc-950\">\r\n        <CytoscapeComponent\r\n          elements={elements}\r\n          style={{ width: \"100%\", height: \"100%\" }}\r\n          layout={{ name: \"cose\" }}\r\n          stylesheet={[\r\n            {\r\n              selector: \"node\",\r\n              style: { label: \"data(label)\", \"font-size\": 10 }\r\n            },\r\n            {\r\n              selector: \"edge\",\r\n              style: { label: \"data(label)\", \"font-size\": 8, \"curve-style\": \"bezier\" }\r\n            }\r\n          ]}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,SAAS,UAAU,EAAE,KAAK,EAAoD;IACnF,IAAI,CAAC,OAAO;QACV,qBACE,8OAAC;YAAI,WAAU;sBAAqE;;;;;;IAIxF;IAEA,MAAM,WAAW;WACZ,CAAC,MAAM,KAAK,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,IAAW,CAAC;gBACtC,MAAM;oBAAE,IAAI,EAAE,EAAE,IAAI,EAAE,OAAO,IAAI,OAAO,EAAE,KAAK;oBAAG,OAAO,EAAE,KAAK,IAAI,EAAE,EAAE;gBAAC;YAC3E,CAAC;WACE,CAAC,MAAM,KAAK,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,GAAQ,IAAc,CAAC;gBACjD,MAAM;oBACJ,IAAI,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,GAAG;oBACpB,QAAQ,EAAE,MAAM;oBAChB,QAAQ,EAAE,MAAM;oBAChB,OAAO,EAAE,QAAQ,IAAI;gBACvB;YACF,CAAC;KACF;IAED,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BAA6B;;;;;;0BAC5C,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,uLAAkB;oBACjB,UAAU;oBACV,OAAO;wBAAE,OAAO;wBAAQ,QAAQ;oBAAO;oBACvC,QAAQ;wBAAE,MAAM;oBAAO;oBACvB,YAAY;wBACV;4BACE,UAAU;4BACV,OAAO;gCAAE,OAAO;gCAAe,aAAa;4BAAG;wBACjD;wBACA;4BACE,UAAU;4BACV,OAAO;gCAAE,OAAO;gCAAe,aAAa;gCAAG,eAAe;4BAAS;wBACzE;qBACD;;;;;;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/GROW/Projects/KnowFlow_Project_d%27expertise/KnowFlow/frontend/app/graph/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { fetchGraph } from \"@/lib/api-client\";\r\nimport { GraphView } from \"@/components/graph/GraphView\";\r\n\r\nexport default function GraphPage() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [graph, setGraph] = useState<{ nodes: any[]; edges: any[] } | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  async function load() {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const g = await fetchGraph();\r\n      setGraph(g);\r\n    } catch (e: any) {\r\n      setError(e?.message || \"Graph endpoint not available\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main className=\"mx-auto max-w-6xl p-6\">\r\n      <h1 className=\"text-2xl font-semibold\">Knowledge Graph</h1>\r\n      <p className=\"mt-1 text-zinc-300\">\r\n        Cytoscape view of the KG (requires backend /api/graph).\r\n      </p>\r\n\r\n      <div className=\"mt-4 flex items-center gap-3\">\r\n        <button\r\n          onClick={load}\r\n          className=\"rounded-lg bg-zinc-800 px-4 py-2 hover:bg-zinc-700 disabled:opacity-60\"\r\n          disabled={loading}\r\n        >\r\n          {loading ? \"Loading...\" : \"Load graph\"}\r\n        </button>\r\n        {error && <span className=\"text-red-300\">{error}</span>}\r\n      </div>\r\n\r\n      <div className=\"mt-6\">\r\n        <GraphView graph={graph} />\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAwC;IAC1E,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,eAAe;QACb,WAAW;QACX,SAAS;QACT,IAAI;YACF,MAAM,IAAI,MAAM,IAAA,kIAAU;YAC1B,SAAS;QACX,EAAE,OAAO,GAAQ;YACf,SAAS,GAAG,WAAW;QACzB,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAG,WAAU;0BAAyB;;;;;;0BACvC,8OAAC;gBAAE,WAAU;0BAAqB;;;;;;0BAIlC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,SAAS;wBACT,WAAU;wBACV,UAAU;kCAET,UAAU,eAAe;;;;;;oBAE3B,uBAAS,8OAAC;wBAAK,WAAU;kCAAgB;;;;;;;;;;;;0BAG5C,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,8IAAS;oBAAC,OAAO;;;;;;;;;;;;;;;;;AAI1B"}}]
}